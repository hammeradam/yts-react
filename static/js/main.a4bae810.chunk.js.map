{"version":3,"sources":["components/card/Styled.tsx","components/detail-modal/DetailModal.tsx","providers/detail-modal/index.tsx","providers/db/index.tsx","components/card/Card.tsx","components/card-list/Styled.tsx","components/card-list/CardList.tsx","components/favorites/Favorites.tsx","App.tsx","theme/theme.ts","components/GlobalStyles.tsx","index.tsx"],"names":["CardWrapper","styled","div","theme","textColor","ImageWrapper","CardDetails","borderColor","CardTitle","CardLinkWrapper","backgroundColor","isOpen","CardLink","primary","LinkWrapperClose","CardActionsWrapper","ActionDivider","Modal","section","ModalBody","BackgroundGradient","ModalClose","TopRow","InfoWrapper","BadgeWrapper","DownloadLinkWrapper","DownloadLink","RatingWrapper","DetailModal","movie","close","useEffect","onKeyDown","key","document","addEventListener","removeEventListener","style","backgroundImage","background_image","className","onClick","src","medium_cover_image","alt","title","year","rating","genres","map","genre","index","id","torrents","torrent","href","url","type","quality","summary","DetailModalContext","createContext","DetailModalProvider","children","useState","isDetailModalOpen","setIsDetailModalOpen","setMovie","closeDetailModal","Provider","value","openDetailModal","DBContext","DBProvider","db","setDb","openDB","upgrade","createObjectStore","keyPath","createIndex","then","newDb","checkIsBookmarked","a","get","addToBookmarks","add","removeFromBookmarks","delete","trackers","getMagnetLink","hash","encodeURIComponent","join","Card","isDownloadOpen","setIsDownloadOpen","isBookmarked","setIsBookmarked","useContext","found","prev","CardsWrapper","SearchContainer","Input","input","getMovieData","searchTerm","limit","page","order","fetch","encodeURI","response","json","CardList","movies","setMovies","setPage","loader","useRef","setSearchTerm","data","observer","IntersectionObserver","handleObserver","root","rootMargin","threshold","current","observe","prevState","length","isIntersecting","onInput","event","persist","target","ref","getFavorites","getAll","favorites","Favorites","Header","header","NavLink","NavLinkBase","App","to","path","GlobalStyles","createGlobalStyle","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a4bae810.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const CardWrapper = styled.div`\n    color: ${({ theme }) => theme.textColor};\n    width: 15%;\n    overflow: hidden;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    --ggs: 0.8;\n\n    @media (max-width: 1365px) {\n        width: 20%;\n    }\n\n    @media (max-width: 1023px) {\n        width: 30%;\n    }\n\n    @media (max-width: 575px) {\n        width: 40%;\n    }\n\n    @media (max-width: 320px) {\n        width: 80%;\n    }\n`;\n\nexport const ImageWrapper = styled.div`\n    display: flex;\n    aspect-ratio: 2 / 3;\n    width: 100%;\n\n    img {\n        width: 100%;\n        height: auto;\n    }\n`;\n\nexport const CardDetails = styled.div`\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    border: 1px solid ${({ theme }) => theme.borderColor};\n    border-top: none;\n`;\n\nexport const CardTitle = styled.div`\n    padding: 15px;\n    font-size: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    flex-grow: 1;\n`;\n\ninterface CardLinkWrapperProps {\n    isOpen: boolean;\n}\n\nexport const CardLinkWrapper = styled.div<CardLinkWrapperProps>`\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: ${({ theme }) => theme.backgroundColor};\n    transition: 0.2s ease;\n    padding: 15px;\n    border: 1px solid ${({ theme }) => theme.borderColor};\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n    align-items: center;\n    transform: ${({ isOpen }) => (isOpen ? '' : 'translateY(110%)')};\n\n    a,\n    i {\n        color: ${({ theme }) => theme.textColor};\n        text-decoration: none;\n        transition: 0.3s ease;\n    }\n`;\n\nexport const CardLink = styled.div`\n    display: flex;\n    gap: 5px;\n    align-items: center;\n\n    a {\n        display: flex;\n        gap: 5px;\n        align-items: baseline;\n    \n        &:hover {\n            color: ${({ theme }) => theme.primary};\n            i {\n                color: ${({ theme }) => theme.primary};\n            }\n        }\n    }\n\n    i:hover {\n        color: ${({ theme }) => theme.primary};\n    }\n`;\n\nexport const LinkWrapperClose = styled.div`\n    position: absolute;\n    top: 8px;\n    right: 8px;\n    cursor: pointer;\n\n    &:hover {\n        i {\n            color: ${({ theme }) => theme.primary};\n        }\n    }\n`;\n\nexport const CardActionsWrapper = styled.div`\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    padding: 10px 0;\n    border-top: 1px solid ${({ theme }) => theme.borderColor};\n\n    i {\n        cursor: pointer;\n        transition: 0.2s ease;\n\n        &:hover {\n            color: ${({ theme }) => theme.primary};\n        }\n    }\n`;\n\nexport const ActionDivider = styled.div`\n    width: 1px;\n    height: 14px;\n    background: ${({ theme }) => theme.borderColor};\n`;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components'\nimport { Movie } from '../../providers/movie/types';\n\ninterface ModalProps {\n    isOpen: boolean;\n    close: () => void;\n    movie: Movie | null;\n}\n\nexport const Modal = styled.section<{ isOpen: boolean }>`\n    display: block;\n    position: fixed;\n    top: 50%;\n    left: 15vw;\n    padding: 30px;\n    transform: ${({ isOpen }) => isOpen ? 'translateY(-50%)' : 'translateY(200%)'};\n    width: 70vw;\n    border-radius: 10px;\n    background-color: var(--secondary-bg-color);\n    overflow: hidden;\n    background-position: center;\n    background-size: cover;\n    transition: background-image .3s ease;\n    z-index: 4;\n    transition: .3s transform ease;\n    min-height: 50%;\n\n    @media (max-width: 991px) {\n        padding: 20px;\n        top: 80px;\n        left: 20px;\n        width: calc(100vw - 80px);\n        height: calc(100vh - 130px);\n        transform: ${({ isOpen }) => isOpen ? 'none' : 'translateY(200%)'};\n    }\n`;\n\nexport const ModalBody = styled.div`\n    position: relative;\n    max-height: 100%;\n    overflow: scroll;\n`\n\nexport const BackgroundGradient = styled.div`\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(0deg, black 25%, transparent 100%);\n`\nexport const ModalClose = styled.div`\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    cursor: pointer;\n    z-index: 10;\n\n    i {\n        transition: 0.2s ease;\n    }\n\n    &:hover {\n        i {\n            color: ${({ theme }) => theme.primary};\n        }\n    }\n`\n\nexport const TopRow = styled.div`\n    display: flex;\n    gap: 20px;\n    margin-bottom: 20px;\n\n    @media (max-width: 991px) {\n        flex-direction: column;\n    }\n`\n\nexport const InfoWrapper = styled.div`\n\n`;\n\nexport const ImageWrapper = styled.div`\n    text-align: center;\n`;\n\nexport const BadgeWrapper = styled.div`\n    display: flex;\n    gap: 5px;\n    flex-wrap: wrap;\n    margin-bottom: 10px;\n\n    span {\n        padding: 5px;\n        background-color: ${({ theme }) => theme.primary};\n        color: ${({ theme }) => theme.textColor};\n        border-radius: 5px;\n        white-space: nowrap;\n    }\n`;\n\nconst DownloadLinkWrapper = styled.div`\n    display: flex;\n    gap: 5px;\n    margin-top: 10px;\n    flex-wrap: wrap;\n`\n\nconst DownloadLink = styled.div`\n    display: inline-flex;\n    gap: 5px;\n    align-items: center;\n    padding: 5px;\n    background-color: ${({ theme }) => theme.primary};\n    color: ${({ theme }) => theme.textColor};\n    border-radius: 5px;\n    white-space: nowrap;\n    transition: .3s ease;\n\n    a {\n        text-decoration: none;\n        color: ${({ theme }) => theme.textColor};\n    }\n\n    &:hover {\n        background-color: ${({ theme }) => theme.textColor};\n\n        a,\n        i {\n            color: ${({ theme }) => theme.primary};\n        }\n    }\n`\n\nexport const RatingWrapper = styled.div`\n    display: flex;\n    margin: 10px 0;\n    gap: 10px;\n    align-items: center;\n    padding-left: 5px;\n`\n\nexport const DetailModal = ({ isOpen, movie, close }: ModalProps) => {\n    useEffect(() => {\n        const onKeyDown = ({ key }: { key: string }) => {\n            if (key === 'Escape') {\n                close();\n            }\n        };\n\n        document.addEventListener('keydown', onKeyDown);\n\n        return () => {\n            document.removeEventListener('keydown', onKeyDown);\n        };\n    }, [close]);\n\n    return (\n        <Modal isOpen={isOpen} style={{\n            backgroundImage: `url(${movie?.background_image})`\n        }}>\n            <BackgroundGradient />\n            <ModalClose>\n                <i className=\"gg-close-r\" onClick={close}></i>\n            </ModalClose>\n            <ModalBody>\n                    <TopRow>\n                        <ImageWrapper>\n                            <img src={movie?.medium_cover_image}  alt=\"cover\"/>\n                        </ImageWrapper>\n                        <InfoWrapper>\n                            <h3>{movie?.title}</h3> \n                            <h5>{movie?.year}</h5>\n                            <RatingWrapper>\n                                <i className=\"gg-heart\" onClick={close}></i>\n                                <p>{movie?.rating}/10</p>\n                            </RatingWrapper>\n                            <BadgeWrapper>\n                                {movie?.genres.map((genre, index) => <span key={`${movie.id}_genre_${index}`}>{genre}</span>)}\n                            </BadgeWrapper>\n                            <h3>Download:</h3>\n                            <DownloadLinkWrapper>\n                                {movie?.torrents.map((torrent, index) => (\n                                    <DownloadLink key={`${movie.id}_torrent_${index}_detail`}>\n                                        <i className=\"gg-software-download\"></i>\n                                        <a href={torrent.url}>\n                                            {`${torrent.type} ${torrent.quality}`}\n                                        </a>\n                                    </DownloadLink>\n                                ))}\n                                \n                            </DownloadLinkWrapper>\n                            {/* <h5>Cast:</h5>\n                            <div class=\"detail_modal__cast-wrapper\"></div> */}\n                        </InfoWrapper>\n                    </TopRow>\n                    <p>{movie?.summary}</p>\n            </ModalBody>\n        </Modal>\n    );\n};\n","import React, { createContext, useContext, useState } from 'react';\nimport { DetailModal } from '../../components/detail-modal/DetailModal';\nimport { Movie } from '../movie/types';\n\ntype StateContext = {\n    openDetailModal?: (movie: Movie) => void;\n    closeDetailModal?: () => void;\n};\n\nexport const DetailModalContext = createContext<StateContext>({});\n\nexport const DetailModalProvider = ({\n    children\n}: React.PropsWithChildren<{}>) => {\n    const [isDetailModalOpen, setIsDetailModalOpen] = useState(false);\n    const [movie, setMovie] = useState<Movie | null>(null);\n\n    const openDetailModal = (movie: Movie) => {\n        document.title = `YTS React - ${movie.title}`;\n        setMovie(movie);\n        setIsDetailModalOpen(true);\n    };\n\n    const closeDetailModal = () => {\n        document.title = 'YTS React';\n        setMovie(null);\n        setIsDetailModalOpen(false);\n    };\n\n    return (\n        <DetailModalContext.Provider\n            value={{ openDetailModal, closeDetailModal }}>\n            <DetailModal\n                isOpen={isDetailModalOpen}\n                close={closeDetailModal}\n                movie={movie}\n            />\n            {children}\n        </DetailModalContext.Provider>\n    );\n};\n\nexport const useDetailModal = () => useContext(DetailModalContext);\n","import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { IDBPDatabase, openDB } from 'idb';\nimport { Movie } from '../movie/types';\n\ntype StateContext = {\n    addToBookmarks?: (movie: Movie) => Promise<void>;\n    removeFromBookmarks?: (movie: Movie) => Promise<void>;\n    checkIsBookmarked?: (movie: Movie) => Promise<boolean>;\n};\n\nexport const DBContext = createContext<StateContext>({});\n\nexport const DBProvider = ({ children }: React.PropsWithChildren<{}>) => {\n    const [db, setDb] = useState<IDBPDatabase>();\n\n    useEffect(() => {\n        openDB('movies', 1, {\n            upgrade(db) {\n                const store = db.createObjectStore('movies', {\n                    keyPath: 'id'\n                });\n\n                store.createIndex('title', 'title');\n            }\n        }).then((newDb) => setDb(newDb));\n    }, []);\n\n    const checkIsBookmarked = async (movie: Movie) =>\n        !!(await db?.get('movies', movie.id));\n\n    const addToBookmarks = async (movie: Movie) => {\n        await db?.add('movies', movie);\n    };\n\n    const removeFromBookmarks = async (movie: Movie) => {\n        await db?.delete('movies', movie.id);\n    };\n\n    return (\n        <DBContext.Provider\n            value={{ checkIsBookmarked, addToBookmarks, removeFromBookmarks }}>\n            {children}\n        </DBContext.Provider>\n    );\n};\n\nexport const useDB = () => useContext(DBContext);\n","import { useEffect, useState } from 'react';\nimport {\n    ActionDivider,\n    CardActionsWrapper,\n    CardDetails,\n    CardLink,\n    CardLinkWrapper,\n    CardTitle,\n    CardWrapper,\n    ImageWrapper,\n    LinkWrapperClose\n} from './Styled';\nimport { Movie, Torrent } from '../../providers/movie/types';\nimport { useDetailModal } from '../../providers/detail-modal';\nimport { useDB } from '../../providers/db';\n\ninterface CardProps {\n    movie: Movie;\n}\n\nconst trackers: string[] = [\n    'udp://open.demonii.com:1337/announce',\n    'udp://tracker.openbittorrent.com:80',\n    'udp://tracker.coppersurfer.tk:6969',\n    'udp://glotorrents.pw:6969/announce',\n    'udp://tracker.opentrackr.org:1337/announce',\n    'udp://torrent.gresille.org:80/announce',\n    'udp://p4p.arenabg.com:1337',\n    'udp://tracker.leechers-paradise.org:6969'\n];\n\nconst getMagnetLink = (movie: Movie, torrent: Torrent) => {\n    return `magnet:?xt=urn:btih:${torrent.hash}&dn=${encodeURIComponent(\n        movie.title\n    )}&tr=${trackers.join('&')}`;\n};\n\nexport const Card = ({ movie }: CardProps) => {\n    const [isDownloadOpen, setIsDownloadOpen] = useState(false);\n    const [isBookmarked, setIsBookmarked] = useState(false);\n    const { openDetailModal } = useDetailModal();\n    const { addToBookmarks, removeFromBookmarks, checkIsBookmarked } = useDB();\n\n    useEffect(() => {\n        checkIsBookmarked?.(movie).then((found: boolean) =>\n            setIsBookmarked(found)\n        );\n    }, [movie, checkIsBookmarked]);\n\n    return (\n        <CardWrapper>\n            <ImageWrapper>\n                <img src={movie.medium_cover_image} alt=\"\" />\n            </ImageWrapper>\n            <CardDetails>\n                <CardTitle>{movie.title}</CardTitle>\n                <CardActionsWrapper>\n                    <i\n                        className=\"gg-info\"\n                        onClick={() => {\n                            openDetailModal?.(movie);\n                        }}></i>\n                    <ActionDivider />\n                    <i\n                        className=\"gg-software-download\"\n                        onClick={() => setIsDownloadOpen(true)}></i>\n                    <ActionDivider />\n                    <i\n                        className={`gg-bookmark${\n                            isBookmarked ? ' active' : ''\n                        }`}\n                        onClick={async () => {\n                            if (isBookmarked) {\n                                await removeFromBookmarks?.(movie);\n                            } else {\n                                await addToBookmarks?.(movie);\n                            }\n\n                            setIsBookmarked((prev) => !prev);\n                        }}></i>\n                </CardActionsWrapper>\n            </CardDetails>\n            <CardLinkWrapper isOpen={isDownloadOpen}>\n                <LinkWrapperClose>\n                    <i\n                        className=\"gg-close-r\"\n                        onClick={() => setIsDownloadOpen(false)}></i>\n                </LinkWrapperClose>\n                {movie.torrents.map((torrent: Torrent, index: number) => (\n                    <CardLink key={`${movie.id}_torrent_${index}`}>\n                        <a href={torrent.url}>\n                            {`${torrent.type} ${torrent.quality}`}\n                            <i className=\"gg-software-download\"></i>\n                        </a>\n                        <a href={getMagnetLink(movie, torrent)}>\n                            <i className=\"gg-magnet\"></i>\n                        </a>\n                    </CardLink>\n                ))}\n            </CardLinkWrapper>\n        </CardWrapper>\n    );\n};\n","import styled from 'styled-components';\n\nexport const CardsWrapper = styled.div`\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n    gap: 20px;\n`;\n\nexport const SearchContainer = styled.div`\n    display: flex;\n    width: 100%;\n    padding: 20px 0;\n    align-items: center;\n    justify-content: center;\n`\n\nexport const Input = styled.input`\n    background: transparent;\n    box-shadow: none;\n    border: 1px solid ${({ theme }) => theme.borderColor};\n    font-size: 30px;\n    color: ${({ theme }) => theme.textColor};\n    border-radius: 0;\n    padding: 10px;\n\n    &:focus {\n        border: 1px solid ${({ theme }) => theme.primary};\n        box-shadow: none;\n        outline: none !important;\n    }\n`\n","import { useEffect, useRef, useState } from 'react';\nimport { Movie } from '../../providers/movie/types';\nimport { Card } from '../card/Card';\nimport { CardsWrapper, SearchContainer, Input } from './Styled';\n\nasync function getMovieData(\n    searchTerm = '',\n    limit = 8,\n    page = 1,\n    order = 'download_count'\n) {\n    const response = await fetch(\n        `https://yts.mx/api/v2/list_movies.json?limit=${limit}&page=${page}&query_term=${encodeURI(\n            searchTerm\n        )}&sort_by=${order}`\n    );\n    return await response.json();\n}\n\nexport const CardList = () => {\n    const [movies, setMovies] = useState<Movie[]>([]);\n    const [page, setPage] = useState(2);\n    const loader = useRef<HTMLDivElement>(null);\n    const [searchTerm, setSearchTerm] = useState('');\n\n    useEffect(() => {\n        getMovieData('', 16, 1).then((movies) => setMovies(movies.data.movies));\n    }, []);\n\n    useEffect(() => {\n        const observer = new IntersectionObserver(handleObserver, {\n            root: null,\n            rootMargin: '100px',\n            threshold: 1.0\n        });\n\n        if (loader.current) {\n            observer.observe(loader.current);\n        }\n    }, []);\n\n    useEffect(() => {\n        // if (searchTerm) {\n            getMovieData(searchTerm, 16, 1).then((movies) => {\n                if (movies.data.movies) {\n                    setMovies(movies.data.movies)\n                    setPage(2);\n                }\n            });\n        // } else\n    }, [searchTerm]);\n\n    useEffect(() => {\n        if (page !== 2) {\n            getMovieData(searchTerm, 8, page).then((movies) =>\n                setMovies((prevState) => {\n                    if (movies.data?.movies?.length) {\n                        return [...prevState, ...movies.data.movies]\n                    }\n                    return prevState;\n                })\n            );\n        }\n    }, [page, searchTerm]);\n\n    const handleObserver = ([target]: IntersectionObserverEntry[]) => {\n        if (target.isIntersecting) setPage((page) => page + 1);\n    };\n    return (\n        <>\n            <SearchContainer>\n                <Input\n                    type=\"text\"\n                    value={searchTerm}\n                    onInput={(event: React.ChangeEvent<HTMLInputElement>) => {\n                        event.persist();\n                        setSearchTerm(event.target.value);\n                    }}\n                />\n            </SearchContainer>\n            <CardsWrapper>\n                {movies.map((movie) => (\n                    <Card key={movie.id} movie={movie} />\n                ))}\n            </CardsWrapper>\n            <div ref={loader}></div>\n        </>\n    );\n};\n","import { useEffect, useState } from 'react';\nimport { Movie } from '../../providers/movie/types';\nimport { Card } from '../card/Card';\nimport { openDB } from 'idb';\nimport { CardsWrapper } from '../card-list/Styled';\n\nconst getFavorites = async () => {\n    const db = await openDB('movies', 1, {\n        upgrade(db) {\n            const store = db.createObjectStore('movies', {\n              keyPath: 'id',\n            });\n\n            store.createIndex('title', 'title');\n          },\n    });\n\n    const favorites = await db.getAll('movies');\n\n    return favorites;\n}\n\nexport const Favorites = () => {\n    const [movies, setMovies] = useState<Movie[]>([]);\n\n    useEffect(() => {\n        getFavorites().then((movies) => setMovies(movies));\n    }, []);\n\n    return (\n        <CardsWrapper>\n            {movies.map((movie) => (\n                <Card\n                    key={movie.id}\n                    movie={movie}\n                />\n            ))}\n        </CardsWrapper>\n    );\n};\n","import styled from 'styled-components';\nimport { CardList } from './components/card-list/CardList';\nimport { Favorites } from './components/favorites/Favorites';\nimport {\n    BrowserRouter,\n    Switch,\n    Route,\n    NavLink as NavLinkBase\n} from 'react-router-dom';\n\nconst Header = styled.header`\n    height: 60px;\n    width: 100vw;\n    background-color: ${({ theme }) => theme.backgroundColor};\n    position: fixed;\n    top: 0;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 30px;\n    border-bottom: 1px solid ${({ theme }) => theme.primary};\n`;\n\nconst NavLink = styled(NavLinkBase)`\n    font-size: 2rem;\n    text-decoration: none;\n    color: ${({ theme }) => theme.textColor};\n`;\n// test\nfunction App() {\n    return (\n        <BrowserRouter>\n            <Header>\n                <NavLink to=\"/yts-react\">Home</NavLink>\n                <NavLink to=\"/yts-react/favorites\">Favorites</NavLink>\n            </Header>\n            <Switch>\n                <Route path=\"/yts-react/favorites\">\n                    <Favorites />\n                </Route>\n                <Route path=\"/yts-react\">\n                    <CardList />\n                </Route>\n                <Route path=\"/\">\n                    <CardList />\n                </Route>\n            </Switch>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","export type ThemeType = typeof lightTheme;\n\nexport const lightTheme = {\n    borderColor: '#303030',\n    backgroundColor: 'rgb(14, 14, 14)',\n    textColor: 'whitesmoke',\n    primary: 'rgb(0, 153, 255)'\n}\nexport const darkTheme: ThemeType = {\n    borderColor: '#303030',\n    backgroundColor: 'rgb(14, 14, 14)',\n    textColor: 'whitesmoke',\n    primary: 'rgb(0, 153, 255)'\n}\n\nconst theme = lightTheme;\nexport default theme;","import { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyles = createGlobalStyle`\n    html {\n    background: ${({ theme }) => theme.backgroundColor};\n        \n    }\n\n  #root {\n    margin: 0;\n    color: ${({ theme }) => theme.textColor};\n    margin: 0;\n    min-height: 100vh;\n    min-width: 100vw;\n    padding: 70px 0;\n  }\n\n  * {\n    margin: 0;\n    padding: 0;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n      Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\n  }\n\n  // Icons\n  /* Close */\n  .gg-close-r {\n        box-sizing: border-box;\n        position: relative;\n        display: block;\n        transform: scale(var(--ggs, 1));\n        width: 22px;\n        height: 22px;\n        border: 2px solid;\n        border-radius: 4px;\n      }\n\n      .gg-close-r::after,\n      .gg-close-r::before {\n        content: \"\";\n        display: block;\n        box-sizing: border-box;\n        position: absolute;\n        width: 12px;\n        height: 2px;\n        background: currentColor;\n        transform: rotate(45deg);\n        border-radius: 5px;\n        top: 8px;\n        left: 3px;\n      }\n\n      .gg-close-r::after {\n        transform: rotate(-45deg);\n      }\n\n      /* Download */\n      .gg-software-download {\n        box-sizing: border-box;\n        position: relative;\n        display: block;\n        transform: scale(var(--ggs, 1));\n        width: 16px;\n        height: 6px;\n        border: 2px solid;\n        border-top: 0;\n        border-bottom-left-radius: 2px;\n        border-bottom-right-radius: 2px;\n        margin-top: 8px;\n      }\n      .gg-software-download::after {\n        content: \"\";\n        display: block;\n        box-sizing: border-box;\n        position: absolute;\n        width: 8px;\n        height: 8px;\n        border-left: 2px solid;\n        border-bottom: 2px solid;\n        transform: rotate(-45deg);\n        left: 2px;\n        bottom: 4px;\n      }\n      .gg-software-download::before {\n        content: \"\";\n        display: block;\n        box-sizing: border-box;\n        position: absolute;\n        border-radius: 3px;\n        width: 2px;\n        height: 10px;\n        background: currentColor;\n        left: 5px;\n        bottom: 5px;\n      }\n\n      /* Info */\n      .gg-info {\n        box-sizing: border-box;\n        position: relative;\n        display: block;\n        transform: scale(var(--ggs, 1));\n        width: 20px;\n        height: 20px;\n        border: 2px solid;\n        border-radius: 40px;\n      }\n      .gg-info::after,\n      .gg-info::before {\n        content: \"\";\n        display: block;\n        box-sizing: border-box;\n        position: absolute;\n        border-radius: 3px;\n        width: 2px;\n        background: currentColor;\n        left: 7px;\n      }\n      .gg-info::after {\n        bottom: 2px;\n        height: 8px;\n      }\n      .gg-info::before {\n        height: 2px;\n        top: 2px;\n      }\n\n      .gg-bookmark,\n    .gg-bookmark::after {\n        display: block;\n        box-sizing: border-box;\n        border-top-right-radius: 3px\n    }\n    .gg-bookmark {\n        border: 2px solid;\n        border-bottom: 0;\n        border-top-left-radius: 3px;\n        overflow: hidden;\n        position: relative;\n        transform: scale(var(--ggs,1));\n        width: 14px;\n        height: 16px;\n\n        &.active {\n            background-color: currentColor;\n\n            &::after {\n                background-color: ${({ theme }) => theme.backgroundColor};\n            }\n        }\n    }\n    .gg-bookmark::after {\n        content: \"\";\n        position: absolute;\n        width: 12px;\n        height: 12px;\n        border-top: 2px solid;\n        border-right: 2px solid;\n        transform: rotate(-45deg);\n        top: 9px;\n        left: -1px;\n        /* transition: .3s ease; */\n    }\n\n    .gg-heart,\n.gg-heart::after {\n    border: 2px solid;\n    border-top-left-radius: 100px;\n    border-top-right-radius: 100px;\n    width: 10px;\n    height: 8px;\n    border-bottom: 0\n}\n.gg-heart {\n    box-sizing: border-box;\n    position: relative;\n    transform:\n        translate(\n            calc(-10px / 2 * var(--ggs,1)),\n            calc(-6px / 2 * var(--ggs,1))\n        )\n        rotate(-45deg)\n        scale(var(--ggs,1));\n    display: block\n}\n.gg-heart::after,\n.gg-heart::before {\n    content: \"\";\n    display: block;\n    box-sizing: border-box;\n    position: absolute\n}\n.gg-heart::after {\n    right: -9px;\n    transform: rotate(90deg);\n    top: 5px\n}\n.gg-heart::before {\n    width: 11px;\n    height: 11px;\n    border-left: 2px solid;\n    border-bottom: 2px solid;\n    left: -2px;\n    top: 3px\n}\n\n.gg-magnet,\n.gg-magnet::before {\n    display: block;\n    box-sizing: border-box;\n    width: 14px\n}\n.gg-magnet {\n    border: 4px solid;\n    transform: scale(var(--ggs,1));\n    border-bottom-left-radius: 100px;\n    border-bottom-right-radius: 100px;\n    border-top: 0;\n    position: relative;\n    height: 12px\n}\n.gg-magnet::before {\n    content: \"\";\n    position: absolute;\n    height: 3px;\n    border-left: 4px solid;\n    border-right: 4px solid;\n    top: -5px;\n    left: -4px;\n    opacity: .5\n}\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { ThemeProvider } from 'styled-components';\nimport theme from './theme/theme';\nimport { GlobalStyles } from './components/GlobalStyles';\nimport { DetailModalProvider } from './providers/detail-modal';\nimport { DBProvider } from './providers/db';\n\nReactDOM.render(\n    <React.StrictMode>\n        <ThemeProvider theme={theme}>\n            <GlobalStyles />\n            <DetailModalProvider>\n                <DBProvider>\n                    <App />\n                </DBProvider>\n            </DetailModalProvider>\n        </ThemeProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}